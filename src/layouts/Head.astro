---
import metaData from '@data/meta/meta.json';
import type { Locale } from '@typings/global';

const locale = Astro.currentLocale as Locale;

const meta = metaData[locale];
---

<head>
  <script is:inline>
    (() => {
      const getSystemTheme = () => (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');

      const stored = localStorage.getItem('theme');
      const theme = stored === 'light' || stored === 'dark' ? stored : getSystemTheme();

      document.documentElement.setAttribute('data-theme', theme);
      document
        .querySelector('meta[name="theme-color"]')
        ?.setAttribute('content', theme === 'dark' ? '#121212' : '#ffffff');
    })();
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width" />

  <link rel="icon" type="image/svg+xml" href="/favicon.svg" media="(prefers-color-scheme: dark)" />

  <meta name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)" />
  <meta name="theme-color" content="#121212" media="(prefers-color-scheme: dark)" />

  <meta property="og:title" content={meta.title} />
  <meta property="og:description" content={meta.description} />
  <meta property="og:image" content="/opengraph.jpg" />
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:url" content={meta.link} />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content={meta.title} />
  <meta name="twitter:description" content={meta.description} />
  <meta name="twitter:image" content="/opengraph.jpg" />

  <title>{meta.title}</title>
</head>
